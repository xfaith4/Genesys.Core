{
  "version": "0.2.0",
  "datasets": {
    "audit-logs": {
      "description": "Audit logs dataset using async transaction submit/poll/results flow.",
      "endpoint": "audits.query.submit",
      "itemsPath": "$.results",
      "paging": {
        "profile": "transactionResults",
        "transactionIdPath": "$.transactionId"
      },
      "retry": {
        "profile": "rateLimitAware",
        "maxRetries": 4
      },
      "transaction": {
        "profile": "auditTransaction"
      }
    },
    "audit-service-mapping": {
      "description": "Reference dataset for audit service mapping values.",
      "endpoint": "audits.get.service.mapping",
      "itemsPath": "$",
      "paging": {
        "profile": "none"
      },
      "retry": {
        "profile": "rateLimitAware",
        "maxRetries": 4
      },
      "outputFile": "service-mapping.jsonl"
    },
    "analytics-conversation-details": {
      "description": "Analytics conversation details query using body paging.",
      "endpoint": "analytics.conversations.details.query",
      "itemsPath": "$.conversations",
      "paging": {
        "profile": "bodyPaging",
        "pagePath": "paging.pageNumber",
        "totalHitsPath": "$.totalHits"
      },
      "retry": {
        "profile": "rateLimitAware",
        "maxRetries": 4
      },
      "requestBody": {
        "interval": "2025-01-01T00:00:00.000Z/2025-01-01T23:59:59.999Z",
        "paging": {
          "pageSize": 100,
          "pageNumber": 1
        },
        "order": "asc",
        "orderBy": "conversationStart"
      }
    }
  },
  "endpoints": [
    {
      "key": "audits.query.submit",
      "method": "POST",
      "path": "/api/v2/audits/query",
      "itemsPath": "$",
      "paging": {
        "profile": "transactionResults",
        "transactionIdPath": "$.transactionId"
      },
      "retry": {
        "profile": "rateLimitAware",
        "maxRetries": 4
      },
      "transaction": {
        "profile": "auditTransaction",
        "statusEndpointKey": "audits.query.status",
        "resultsEndpointKey": "audits.query.results",
        "statePath": "$.state",
        "terminalStates": [ "FULFILLED", "FAILED", "CANCELLED" ],
        "fulfilledState": "FULFILLED",
        "pollIntervalSeconds": 2,
        "maxPolls": 60,
        "eventPrefix": "audit.transaction",
        "routeParamName": "transactionId"
      }
    },
    {
      "key": "audits.get.service.mapping",
      "method": "GET",
      "path": "/api/v2/audits/query/servicemapping",
      "itemsPath": "$",
      "paging": {
        "profile": "none"
      },
      "retry": {
        "profile": "rateLimitAware",
        "maxRetries": 4
      }
    },
    {
      "key": "audits.query.status",
      "method": "GET",
      "path": "/api/v2/audits/query/{transactionId}",
      "itemsPath": "$",
      "paging": {
        "profile": "none"
      },
      "retry": {
        "profile": "rateLimitAware",
        "maxRetries": 4
      }
    },
    {
      "key": "audits.query.results",
      "method": "GET",
      "path": "/api/v2/audits/query/{transactionId}/results",
      "itemsPath": "$.results",
      "paging": {
        "profile": "nextUri",
        "nextUriPath": "$.nextUri"
      },
      "retry": {
        "profile": "rateLimitAware",
        "maxRetries": 4
      }
    },
    {
      "key": "analytics.conversations.details.query",
      "method": "POST",
      "path": "/api/v2/analytics/conversations/details/query",
      "itemsPath": "$.conversations",
      "paging": {
        "profile": "bodyPaging",
        "pageParam": "pageNumber",
        "pagePath": "paging.pageNumber",
        "totalHitsPath": "$.totalHits"
      },
      "retry": {
        "profile": "rateLimitAware",
        "maxRetries": 4
      }
    }
  ]
}
